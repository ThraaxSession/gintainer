services:
  gintainer:
    build: .
    container_name: gintainer
    ports:
      - "8080:8080"
    volumes:
      # Mount Docker socket for Docker container management
      - /var/run/docker.sock:/var/run/docker.sock
      # Mount Podman socket for Podman container management (optional)
      # - /run/podman/podman.sock:/run/podman/podman.sock
      # Mount custom configuration file (optional - remove if using default config)
      # - ./gintainer.yaml:/app/gintainer.yaml
    # Set user to match the host's docker socket group
    # Option 1: Use specific GID that matches your docker socket (check with: stat -c '%g' /var/run/docker.sock)
    # user: "1000:999"  # Replace 999 with your docker socket GID
    # Option 2: Run as root (less secure but simpler)
    # user: "0:0"
    environment:
      # Override default port if needed
      - PORT=8080
      # Override config path if needed
      # - CONFIG_PATH=/app/gintainer.yaml
    restart: unless-stopped
